<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>ChitChat</title>
    <link rel="stylesheet" href="/css/instagram.css">
</head>
<body>

<header>
    <img src="/images/logo.png">
    <div>
        <a href="/profile">Profile</a>
        <a href="/logout">Logout</a>
    </div>
</header>

<div class="container">

    <!-- CREATE POST -->
    <div class="create-post">
        <form action="/post" method="post">
            <textarea name="content" rows="2" placeholder="What's on your mind?"></textarea>
            <button type="submit">Post</button>
        </form>
    </div>

    <!-- FEED -->
    <div th:each="post : ${posts}" class="post-card">

        <div class="post-header">
            @[[${post.user.username}]]
            <form th:action="@{'/follow/' + ${post.user.id}}"
                  method="post" style="display:inline;">
                <button class="follow-btn">Follow</button>
            </form>
        </div>

        <div class="post-content">
            <p>[[${post.content}]]</p>
        </div>

        <div class="actions">
            <form th:action="@{'/like/' + ${post.id}}" method="post">
                <button style="border:none;background:none;">
                    <img src="/images/like.png">
                </button>
            </form>

            <img src="/images/comment.png">
            <img src="/images/share.png">
        </div>

        <div class="caption">
            <b>@[[${post.user.username}]]</b> [[${post.content}]]
        </div>

        <form th:action="@{'/comment/' + ${post.id}}" method="post"
              class="comment-box">
            <input type="text" name="text" placeholder="Add a comment...">
            <button type="submit">Post</button>
        </form>

    </div>

</div>

</body>
</html>
